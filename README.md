# ssm_redis
### 简介：通过向服务器端发送20000个异步请求来模拟2万个红包的抢夺（等额抢夺）

##### 使用悲观锁实现

##### 使用乐观锁实现
- 使用CAS原理。
- 解决ABA问题。
- 锁重入。

##### 使用redis实现
- 使用Lua的原子性。

##### 优缺点：
- 悲观锁：使用数据库锁机制，请求过多时会导致数据库性能下降，同时有多个线程阻塞，同时线程的恢复降低性能。
- 乐观锁：在使用CAS原理和解决ABA问题的基础上能提高并发性能，同时版本号冲突很严重，通过锁重入来降低失败率，但数据库性能也会随失败率的增加而降低。
- 通过Lua语言的原子性，消除了数据不一致性，同时只涉及红包抢完之后的数据库同步，通过@Async来解决业务流程过长问题。应用性能有很明显的提升。
